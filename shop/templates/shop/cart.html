{% extends 'base.html' %}
{% block content %}
<hr>
<div class="container" style="padding:3% 8% 8% 8%; background-color:white; margin-top:1px">
    <!-- Main Content -->
    <div class="row">
        <div class="col-12 mt-3 text-center text-uppercase">
            <h2>Shopping Cart</h2>
        </div>
    </div>


    <div class="col-12">
        <table style="width: 100%;" class="table table-striped   table-hover table-sm">
            <thead>
                <tr>
                    <!-- <th>Product</th>
                                        <th>Price</th>
                                        <th>Qty</th>
                                        <th>Amount</th>
                                        <th></th> -->
                    <th>Image</th>
                    <th>Product</th>
                    <th>Quantity</th>
                    <th>Remove</th>
                    <th>Unit price</th>
                    <th>Price</th>



                </tr>
            </thead>
            <tbody>

                {% for item in cart %}
                {% with product=item.product %}
                <tr>
                    <td>
                        <img src="{{product.image.url}}" class="img-fluid">
                    </td>

                    <td> {{product.name}}
                    </td>



                    <td>
                        <form action="{% url "cart:cart_add" product.id %}" method="post">
                            <div style='display:flex;''>
                            {{ item.update_quantity_form.quantity }}
                        {{ item.update_quantity_form.override }}
                        <input type="submit" value="Update">
                        {% csrf_token %}
                        </div>
                    </form>
                </td>

                <td>
                    <form action="{% url "cart:cart_remove" product.id %}" method="post">
                        <input type="submit" value="Remove">
                        {% csrf_token %}
                    </form>


                </td>

                <td>
                    {{item.price}}


                </td>
                <!-- <td>
                                            <input type="number" min="1" value="1">
                                        </td> -->
                <td>
                    {{item.total_price}}
                </td>






            </tr>
            {% endwith %}
            {% endfor %}

        </tbody>
        <tfoot>
            <tr>
                <th colspan="5" class="text-right"> Total</th>
                <th>{{cart.get_total_price}}</th>
                <th></th>
            </tr>
        </tfoot>
    </table>
</div>
<hr>
<div class="col-12 text-right">
    <a href="{% url 'orders:order_create' %}" class="btn btn-outline-success">Checkout</a>
       
</div>

</div>



{% endblock %}